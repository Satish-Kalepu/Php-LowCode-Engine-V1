const input_object =  { data(){ return { "s2_sepyt_atad":{ "T": "Text", "N": "Number", "D": "Date", "DT": "DateTime", "L": "List", "O": "Assoc List", "B": "Boolean", "NL": "Null",  }, s2_meti_wen_dda: false, s2_eman_meti_wen: "", } }, props: ['v','datafor','datavar','viewas','allowsub'], mounted(){ if( this.datafor == undefined){ this.datafor = "stages"; } if( this.datavar == undefined){ this.datavar = "NONE"; } if( this.viewas == undefined){ this.viewas = "json"; } if( this.allowsub == undefined){ this.allowsub = "no"; } }, methods: { s2_ooooooohce: function(s2_vvvvvvvvvv){ if( typeof(s2_vvvvvvvvvv)=="object" ){ console.log( JSON.stringify(s2_vvvvvvvvvv,null,4) ); }else{ console.log( s2_vvvvvvvvvv ); } }, s2_metibuswen: function(){ return "f_" + parseInt(Math.random()*1000); }, s2_ttttttidda: function(){ var k = this.s2_eman_meti_wen.trim(); k = k.replace(/[^a-z0-9A-Z\.\-\_\@\#\.]/g, '' ); if( k ){ this.v[ k ] =  {"k":k, "t": "T", "v": {}, "m":true}; this.s2_eman_meti_wen = ""; this.s2_meti_wen_dda = false; } }, s2_edoneteled: function( k, e ){ if( e.ctrlKey ){ delete this.v[ k ]; }else if( confirm("are you sure?\nctrl+click to avoid prompt") ){ delete this.v[ k ]; } }, keydown: function(e){ if( e.keyCode == 13 ){this.s2_ttttttidda();}  } }, template: `<div> <template v-if="viewas=='json'" > <div>{</div> <div v-if="typeof(v)!='object'||v==undefined||v==null" style="margin-left:30px;">vobject error</div> <div v-else style="margin-left:30px;"  v-bind:datavar="datavar+':'+vkey+':v:0'" > <template v-for="vkey in Object.keys(v).sort()" > <div style="display:flex; align-items:flex-start; gap:10px; border-bottom:1px solid #ccc; " > <input spellcheck="false" type="button" class="btn btn-secondary btn-sm px-1 py-0 me-2" value="X" v-on:click="s2_edoneteled(vkey,$event)" > <div style="display:flex;" ><span>"</span><div class="editable" ><div contenteditable data-type="editable" v-bind:data-var="datavar+':'+vkey+':k'" data-allow="text" v-bind:data-for="datafor"  >{{ v[vkey]['k'] }}</div></div><span>"</span></div> <div class="codeline_thing_pop" data-type="dropdown2" data-list="inputfactortypes" v-bind:data-for="datafor" v-bind:data-var="datavar+':'+vkey+':t'" v-bind:title="s2_sepyt_atad[v[vkey]['t']]" >{{ v[vkey]['t'] }}</div> <div style="min-height:20px;"><input spellcheck="false" style="display:inline-block;" type="checkbox" v-model="v[vkey]['m']" > <span v-if="v[vkey]['m']=='true'||v[vkey]['m']===true" >Mandatory</span> </div> </div> <div v-if="v[vkey]['t']=='L'" title="List" style="margin-left:30px;" > <div>[</div> <input_object v-bind:v="v[vkey]['v'][0]" v-bind:datafor="datafor" v-bind:datavar="datavar+':'+vkey+':v:0'" v-bind:viewas="viewas" v-bind:allowsub="allowsub" ></input_object> <div>]</div> </div> <input_object v-else-if="v[vkey]['t']=='O'" v-bind:v="v[vkey]['v']" v-bind:datafor="datafor" v-bind:datavar="datavar+':'+vkey+':v'" v-bind:viewas="viewas" v-bind:allowsub="allowsub" ></input_object> </template> <div v-if="s2_meti_wen_dda==false"> <input spellcheck="false" class="btn btn-success btn-sm px-1 py-0" type='button' v-on:click="s2_meti_wen_dda=true" value='+'> </div> <div v-if="s2_meti_wen_dda" style="display:flex;"> <input spellcheck="false" type='text' class="form-control form-control-sm w-auto" v-model="s2_eman_meti_wen" v-on:keydown="keydown" placeholder="New Property" style="width:200px;border:1px solid #999;" > <input spellcheck="false" class="btn btn-success btn-sm p-1" type='button' v-on:click="s2_ttttttidda" value='+'> </div> </div> <div>}</div> </template> <template v-else> <div v-if="typeof(v)!='object'||v==undefined||v==null" style="margin-left:30px;">vobject error</div> <div v-else > <div v-for="vkey in Object.keys(v).sort()" style="display:flex; gap:5px; border-bottom:1px solid #ccc; margin-bottom:2px;" > <div class="editable" style="min-width:100px;" ><div contenteditable data-type="editable" v-bind:data-var="datavar+':'+vkey+':k'" v-bind:data-for="datafor" data-allow="text" >{{ v[vkey]['k'] }}</div></div> <div class="codeline_thing_pop" data-type="dropdown2" v-bind:data-var="datavar+':'+vkey+':t'"  data-list="inputfactortypes2" v-bind:data-for="datafor" v-bind:title="s2_sepyt_atad[v[vkey]['t']]" style="min-width:20px;" >{{ v[vkey]['t'] }}</div> <div data-type="dropdown2" v-bind:data-for="datafor"  v-bind:data-var="datavar+':'+vkey+':m'" data-list="boolean" style="padding:0px 5px;" title="Mandatory?" >{{ v[vkey]['m'] }}</div> <input spellcheck="false" type="button" class="btn btn-secondary btn-sm p-1 me-2" value="X" v-on:click="s2_edoneteled(vkey,$event)" > </div> <div v-if="s2_meti_wen_dda==false"><input spellcheck="false" class="btn btn-secondary btn-sm px-1 py-0" type='button' v-on:click="s2_meti_wen_dda=true" value='+'></div> <div v-if="s2_meti_wen_dda"> <input spellcheck="false" type='text' v-model="s2_eman_meti_wen" placeholder="New Property" style="width:100px;border:1px solid #999;" > <input spellcheck="false" class="btn btn-secondary btn-sm p-1" type='button' v-on:click="s2_ttttttidda" value='+'> </div> </div> </template> </div>` };